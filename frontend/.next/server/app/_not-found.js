(()=>{var e={};e.id=165,e.ids=[165],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6297:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>x,originalPathname:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>i});var n=r(7096),s=r(6132),o=r(7284),a=r.n(o),c=r(2564),l={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>c[e]);r.d(t,l);let i=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,9113)),"/Users/i764504/Documents/Projects/crypto-analytics/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],u=[],d="/_not-found",x={require:r,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/_not-found",pathname:"/_not-found",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},471:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3579,23)),Promise.resolve().then(r.t.bind(r,619,23)),Promise.resolve().then(r.t.bind(r,1459,23)),Promise.resolve().then(r.t.bind(r,3456,23)),Promise.resolve().then(r.t.bind(r,847,23)),Promise.resolve().then(r.t.bind(r,7303,23))},1422:(e,t,r)=>{Promise.resolve().then(r.bind(r,1985))},1985:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var n=r(3854),s=r(6273),o=r.n(s);r(4218);var a=r(5548),c=r.n(a),l=r(2099);function i(){let{isConnected:e,connectionError:t,connect:r,disconnect:s}=(0,l.Uj)();return(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-green-500":"bg-red-500"}`}),n.jsx("span",{className:"text-xs text-gray-600",children:e?"Live":"Offline"})]}),t&&n.jsx("div",{className:"flex items-center space-x-1",children:n.jsx("button",{onClick:r,className:"text-xs text-blue-600 hover:text-blue-800 underline",title:t,children:"Reconnect"})})]})}function u({children:e}){return n.jsx("html",{lang:"en",children:n.jsx("body",{className:o().className,children:n.jsx(l.xR,{children:(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"flex justify-between items-center h-16",children:[n.jsx("div",{className:"flex items-center",children:n.jsx(c(),{href:"/",className:"text-xl font-bold text-gray-900 hover:text-gray-700",children:"Ethereum Explorer"})}),(0,n.jsxs)("div",{className:"flex items-center space-x-8",children:[n.jsx(i,{}),(0,n.jsxs)("nav",{className:"flex space-x-8",children:[n.jsx(c(),{href:"/",className:"text-gray-500 hover:text-gray-900",children:"Home"}),n.jsx(c(),{href:"/blocks",className:"text-gray-500 hover:text-gray-900",children:"Blocks"}),n.jsx(c(),{href:"/transactions",className:"text-gray-500 hover:text-gray-900",children:"Transactions"}),n.jsx(c(),{href:"/transaction-flow",className:"text-gray-500 hover:text-gray-900",children:"Flow Analysis"})]})]})]})})}),n.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e})]})})})})}r(3824)},2099:(e,t,r)=>{"use strict";r.d(t,{xR:()=>a,AF:()=>l,S1:()=>i,Uj:()=>u});var n=r(3854),s=r(4218);let o=(0,s.createContext)(void 0);function a({children:e}){let[t,r]=(0,s.useState)(null),[a,c]=(0,s.useState)(null),[l,i]=(0,s.useState)(null),[u,d]=(0,s.useState)(null),x=process.env.NEXT_PUBLIC_WS_URL||"ws://localhost:8080/api/v1/ws",{isConnected:m,lastMessage:p,connect:h,disconnect:f,subscribe:b,unsubscribe:g}=function({url:e,autoConnect:t=!0,reconnectAttempts:r=5,reconnectInterval:n=3e3}){let[o,a]=(0,s.useState)(!1),[c,l]=(0,s.useState)(null),i=(0,s.useRef)(null),u=(0,s.useRef)(null),d=(0,s.useRef)(0),x=(0,s.useRef)(new Set),m=(0,s.useCallback)(()=>{if(i.current?.readyState!==WebSocket.OPEN)try{i.current=new WebSocket(e),i.current.onopen=()=>{console.log("WebSocket connected"),a(!0),d.current=0,x.current.forEach(e=>{i.current?.send(JSON.stringify({type:"subscribe",topic:e}))})},i.current.onmessage=e=>{try{let t=JSON.parse(e.data);l(t)}catch(e){console.error("Failed to parse WebSocket message:",e)}},i.current.onclose=e=>{console.log("WebSocket disconnected:",e.code,e.reason),a(!1),1e3!==e.code&&d.current<r?(d.current++,console.log(`Attempting to reconnect (${d.current}/${r})...`),u.current=setTimeout(()=>{m()},n)):d.current>=r&&console.error("Max reconnection attempts reached")},i.current.onerror=e=>{console.error("WebSocket error:",e)}}catch(e){console.error("Failed to create WebSocket connection:",e)}},[e,r,n]),p=(0,s.useCallback)(()=>{u.current&&(clearTimeout(u.current),u.current=null),i.current&&(i.current.close(1e3,"Manual disconnect"),i.current=null),a(!1),d.current=0},[]),h=(0,s.useCallback)(e=>{i.current?.readyState===WebSocket.OPEN?i.current.send(JSON.stringify(e)):console.warn("WebSocket is not connected")},[]),f=(0,s.useCallback)(e=>{x.current.add(e),h({type:"subscribe",topic:e})},[h]),b=(0,s.useCallback)(e=>{x.current.delete(e),h({type:"unsubscribe",topic:e})},[h]);return(0,s.useEffect)(()=>(t&&m(),()=>{p()}),[t,m,p]),{isConnected:o,lastMessage:c,sendMessage:h,connect:m,disconnect:p,subscribe:f,unsubscribe:b}}({url:x,autoConnect:!0,reconnectAttempts:5,reconnectInterval:3e3});return(0,s.useEffect)(()=>{if(p)try{switch(p.type){case"block_update":console.log("Received block update:",p.data),r(p.data),d(null);break;case"transaction_update":console.log("Received transaction update:",p.data),c(p.data),d(null);break;case"network_stats":console.log("Received network stats:",p.data),i(p.data),d(null);break;default:console.log("Unknown message type:",p.type)}}catch(e){console.error("Error processing WebSocket message:",e),d("Failed to process real-time update")}},[p]),(0,s.useEffect)(()=>{m?(d(null),console.log("Real-time updates connected")):(d("Real-time updates disconnected"),console.log("Real-time updates disconnected"))},[m]),n.jsx(o.Provider,{value:{latestBlock:t,latestTransaction:a,networkStats:l,isConnected:m,connectionError:u,subscribe:b,unsubscribe:g,connect:h,disconnect:f},children:e})}function c(){let e=(0,s.useContext)(o);if(void 0===e)throw Error("useRealTime must be used within a RealTimeProvider");return e}function l(){let{latestBlock:e}=c();return e}function i(){let{latestTransaction:e}=c();return e}function u(){let{isConnected:e,connectionError:t,connect:r,disconnect:n}=c();return{isConnected:e,connectionError:t,connect:r,disconnect:n}}},9113:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>o,default:()=>l});var n=r(5153);let s=(0,n.createProxy)(String.raw`/Users/i764504/Documents/Projects/crypto-analytics/frontend/src/app/layout.tsx`),{__esModule:o,$$typeof:a}=s,c=s.default,l=c},3824:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[855],()=>r(6297));module.exports=n})();